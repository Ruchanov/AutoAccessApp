<div class="container">
  <app-nav-bar></app-nav-bar>

  <h1 class="title">Список автомобилей</h1>

  <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
    <app-search-form style="flex: 0 0 85%; max-width: 85%;" (searchQueryChange)="searchQuery = $event; loadCars()"></app-search-form>

    <button class="filterButton" (click)="toggleFilter()">
      {{ isFilterVisible ? 'Скрыть фильтры' : 'Показать фильтры' }}
    </button>
  </div>
  

  <app-filter-form
    *ngIf="isFilterVisible"
    [filterParams]="filterParams"
    (filterChange)="filterParams = $event"
    (applyFilter)="applyFilter()"
  ></app-filter-form>

  <ul class="list">
    <li *ngFor="let car of cars">
      <app-car-item
        [car]="car"
        [isFavorite]="favoriteCars.has(car.id)"
        (likeToggle)="toggleLike($event)"
      ></app-car-item>
    </li>
  </ul>
</div>
